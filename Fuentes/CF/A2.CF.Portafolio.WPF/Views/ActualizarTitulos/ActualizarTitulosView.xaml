<!--
    'Codigo Creado
    'Archivo    : ActualizarTitulosView.xaml.vb
    'Por        : Juan David Osorio
    'Creado el  : 07/04/2013
    'Propiedad de Alcuadrado S.A.
-->
<UserControl
    x:Class="ActualizarTitulosView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:A2UTILGEN="clr-namespace:A2Utilidades;assembly=A2.Controles.Utilidades.WPF"
    xmlns:Telerik="http://schemas.telerik.com/2008/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:my="clr-namespace:A2ComunesControl;assembly=A2.OYD.Control.WPF"
    xmlns:src="clr-namespace:A2CFPortafolio"
    MinWidth="400"
    MaxWidth="1300"
    mc:Ignorable="d">

    <UserControl.Resources>
        <src:DisplayNameConverter x:Key="DisplayConverter" />
        <src:VisibilityConverter x:Key="VisibilityConverter" />
        <src:StringConverter x:Key="StringConverter" />
        <src:A2UtilsViewModel x:Key="A2VM" />
        <src:BooleanVisibilityConverter x:Key="BooleanVisibilityConverter" />
    </UserControl.Resources>

    <Telerik:RadBusyIndicator
        x:Name="myBusyIndicator"
        BusyContent="Cargando..."
        DisplayAfter="0"
        IsBusy="{Binding IsBusy}">
        <Grid x:Name="LayoutRoot">
            <Grid.Resources />
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <StackPanel
                Name="StackPanel1"
                Grid.Row="0"
                Style="{StaticResource stpHead}">
                <TextBlock
                    HorizontalAlignment="Stretch"
                    Style="{StaticResource Title1}"
                    Text="Actualizar Titulos" />
            </StackPanel>

            <Border Grid.Row="1" Style="{StaticResource ContenedorBotonesSecundario_Estilo}">
                <StackPanel
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <Button
                        Name="Aceptar"
                        Width="150"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Click="Aceptar_Click"
                        Content="Generar"
                        IsEnabled="{Binding HabilitadoModificar}" />
                </StackPanel>
            </Border>

            <Border Grid.Row="2" Style="{StaticResource Contenedor_Estilo}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Telerik:DataFormDataField
                        Grid.Row="0"
                        Grid.Column="0"
                        Label="Del Código"
                        LabelPosition="Above">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <A2UTILGEN:A2TextBox
                                Name="CodigoCliente"
                                Grid.Column="0"
                                IsEnabled="True"
                                MaxLength="17"
                                Text="{Binding DataContext.CamposBusquedaSelected.CodigoCliente, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                TextAlignment="Right"
                                TipoExpresion="SoloNumeros" />

                            <my:BuscadorClienteListaButon
                                x:Name="Buscador_Cliente"
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                CampoBusqueda="IDComitente"
                                EstadoComitente="A"
                                Etiqueta="Lista de Clientes"
                                TipoVinculacion="T"
                                finalizoBusqueda="Buscador_finalizoBusquedaClientes" />
                            <TextBox
                                Name="txtNombreDelCodigo"
                                Grid.Column="2"
                                Margin="2,0,0,0"
                                IsEnabled="False"
                                Text="{Binding DataContext.CamposBusquedaSelected.NombreCliente, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                TextAlignment="Left" />
                        </Grid>
                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="0"
                        Grid.Column="1"
                        Label="Al Código">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <A2UTILGEN:A2TextBox
                                Name="CodigoCliente2"
                                IsEnabled="True"
                                MaxLength="17"
                                Text="{Binding DataContext.CamposBusquedaSelected2.CodigoCliente, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                TextAlignment="Right"
                                TipoExpresion="SoloNumeros" />

                            <my:BuscadorClienteListaButon
                                x:Name="Buscador_Cliente2"
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                CampoBusqueda="IDComitente"
                                EstadoComitente="A"
                                Etiqueta="Lista de Clientes"
                                TipoVinculacion="T"
                                finalizoBusqueda="Buscador_finalizoBusquedaClientes2" />
                            <TextBox
                                Name="txtNombreAlCodigo"
                                Grid.Column="2"
                                Margin="2,0,0,0"
                                IsEnabled="False"
                                Text="{Binding DataContext.CamposBusquedaSelected2.NombreCliente, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                TextAlignment="Left" />
                        </Grid>
                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="1"
                        Grid.Column="0"
                        Label="De la Especie"
                        LabelPosition="Above">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBox
                                Name="CodigoEspecie1"
                                Grid.Column="0"
                                IsEnabled="True"
                                MaxLength="17"
                                Text="{Binding DataContext.CamposBusquedaSelected.Nemotecnico, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}" />

                            <my:BuscadorEspecieListaButon
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                ClaseOrden="T"
                                EstadoEspecie="A"
                                Etiqueta="Lista de Especies"
                                HabilitarConsultaISIN="False"
                                finalizoBusqueda="BuscadorEspecieListaButon_finalizoBusqueda_1" />
                            <TextBox
                                Name="txtNombreEspecie"
                                Grid.Column="2"
                                Margin="2,0,0,0"
                                VerticalAlignment="Top"
                                IsEnabled="False"
                                Text="{Binding DataContext.CamposBusquedaSelected.Especie, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                TextAlignment="Left" />
                        </Grid>
                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="1"
                        Grid.Column="1"
                        Label="A la Especie">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBox
                                Name="CodigoEspecie2"
                                IsEnabled="True"
                                LostFocus="CodigoCliente2_LostFocus_1"
                                MaxLength="17"
                                Text="{Binding DataContext.CamposBusquedaSelected2.Nemotecnico, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}" />
                            <my:BuscadorEspecieListaButon
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                ClaseOrden="T"
                                EstadoEspecie="A"
                                Etiqueta="Lista de Especies"
                                HabilitarConsultaISIN="False"
                                TraerEspeciesVencidas="True"
                                finalizoBusqueda="BuscadorEspecieListaButon_finalizoBusqueda_2" />
                            <TextBox
                                Name="txtNombreEspecie2"
                                Grid.Column="2"
                                Margin="2,0,0,0"
                                IsEnabled="False"
                                Text="{Binding DataContext.CamposBusquedaSelected2.Especie, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                TextAlignment="Left" />
                        </Grid>
                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="2"
                        Grid.Column="0"
                        Label="Del ISIN">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBox
                                Name="ISINFungible"
                                IsEnabled="True"
                                MaxLength="100"
                                Text="{Binding DataContext.CamposBusquedaSelected.IsinFungible, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                TextAlignment="Left"
                                ToolTipService.ToolTip="ISIN Fungible" />
                            <my:BuscadorGenericoListaButon
                                Grid.Column="1"
                                Margin="2,0,0,0"
                                CampoBusqueda="ISINFUNGIBLE"
                                Etiqueta="Lista de ISIN Fungibles"
                                TipoItem="ISINFUNGIBLE"
                                finalizoBusqueda="BuscadorGenerico_finalizoBusquedaISINFungible" />
                            <TextBox
                                Name="txtNombreISIN"
                                Grid.Column="2"
                                Margin="2,0,0,0"
                                IsEnabled="False"
                                Text="{Binding DataContext.CamposBusquedaSelected.DescripcionIsinFungible, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                TextAlignment="Left" />
                        </Grid>
                    </Telerik:DataFormDataField>


                    <Telerik:DataFormDataField
                        Grid.Row="2"
                        Grid.Column="1"
                        Label=" ">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Telerik:DataFormDataField
                                Grid.Column="0"
                                Margin="-8,0,-32,0"
                                Label="AL ISIN">
                                <ComboBox
                                    Width="310"
                                    Margin="-40,0,-32,0"
                                    DisplayMemberPath="ISIN"
                                    ItemsSource="{Binding ListaIsin}"
                                    SelectedValue="{Binding DataContext.SelectedISIN, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                    SelectedValuePath="ISIN" />
                            </Telerik:DataFormDataField>
                            <Telerik:DataFormDataField Grid.Column="1" Label="Precio">
                                <A2UTILGEN:A2NumericBox
                                    Width="310"
                                    Margin="-28,0,-35,0"
                                    LostFocus="C1NumericBox_LostFocus_2"
                                    Maximum="999999"
                                    Minimum="0"
                                    NumberDecimalDigits="2"
                                    ShowButtons="False"
                                    ValueFormat="Numeric"
                                    Value="{Binding DataContext.dblPrecio, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}" />
                            </Telerik:DataFormDataField>
                        </Grid>

                    </Telerik:DataFormDataField>



                    <Telerik:DataFormDataField
                        Grid.Row="3"
                        Grid.Column="0"
                        Label="Fondo destino">
                        <ComboBox
                            x:Name="cmbFondo"
                            Width="300"
                            HorizontalAlignment="Left"
                            DisplayMemberPath="Descripcion"
                            ItemsSource="{Binding DiccionarioCombosA2[UBICACIONTITULO], Source={StaticResource A2VM}}"
                            SelectedValue="{Binding DataContext.strFondo, RelativeSource={RelativeSource AncestorType=UserControl}, StringFormat='#', Mode=TwoWay}"
                            SelectedValuePath="ID"
                            SelectionChanged="cmbFondo_SelectionChanged" />
                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="3"
                        Grid.Column="1"
                        Label="Cuenta destino">
                        <ComboBox
                            x:Name="cmbIdCuentaDestino"
                            Width="305"
                            HorizontalAlignment="Left"
                            DisplayMemberPath="DescripcionCuenta"
                            ItemsSource="{Binding DataContext.listaCuentas, RelativeSource={RelativeSource AncestorType=UserControl}}"
                            SelectedValue="{Binding DataContext.strCuentaDestino, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                            SelectedValuePath="IdCuentaDeceval" />
                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="4"
                        Grid.Column="0"
                        Label=" ">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Telerik:DataFormDataField
                                Grid.Column="0"
                                HorizontalAlignment="Left"
                                Label="Realizar SPLITS">
                                <CheckBox Checked="CheckBox_Checked_1" IsChecked="{Binding RealizarSplits, Mode=TwoWay}" />
                            </Telerik:DataFormDataField>

                            <Telerik:DataFormDataField Grid.Column="1" Label="Fecha proceso">
                                <A2UTILGEN:A2DatePicker
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    SelectedDate="{Binding dtmFechaProceso, Mode=TwoWay}"
                                    ToolTipService.ToolTip="Fecha proceso" />
                            </Telerik:DataFormDataField>
                        </Grid>

                    </Telerik:DataFormDataField>

                    <Telerik:DataFormDataField
                        Grid.Row="4"
                        Grid.Column="1"
                        Label=" ">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Telerik:DataFormDataField
                                Grid.Column="0"
                                Label="Factor Transferencia"
                                Visibility="{Binding VerSplit}">
                                <A2UTILGEN:A2NumericBox
                                    LostFocus="C1NumericBox_LostFocus_1"
                                    Maximum="9999999"
                                    Minimum="0"
                                    NumberDecimalDigits="4"
                                    ShowButtons="False"
                                    ValueFormat="Numeric"
                                    Value="{Binding dblFactor, Mode=TwoWay}" />
                            </Telerik:DataFormDataField>
                            <Telerik:DataFormDataField
                                Grid.Column="1"
                                Label="Tipo Redondeo"
                                Visibility="{Binding VerSplit}">
                                <ComboBox
                                    DisplayMemberPath="Descripcion"
                                    ItemsSource="{Binding DiccionarioCombosA2[TIPOREDONDEO], Source={StaticResource A2VM}}"
                                    SelectedValue="{Binding strTipoRedondeo, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                    SelectedValuePath="ID" />
                            </Telerik:DataFormDataField>
                        </Grid>
                    </Telerik:DataFormDataField>



                    <Telerik:DataFormDataField
                        Grid.Row="5"
                        Grid.Column="0"
                        Grid.ColumnSpan="2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Telerik:DataFormDataField
                                Grid.Column="0"
                                Label="Concepto título"
                                LabelPosition="Above">

                                <ComboBox
                                    HorizontalAlignment="Stretch"
                                    ItemsSource="{Binding DataContext.ListaEstadoConcepto, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    SelectedItem="{Binding DataContext.SelectedEstadoConcepto, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                    ToolTipService.ToolTip="Concepto título">

                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel
                                                Height="Auto"
                                                MaxWidth="520"
                                                Orientation="Vertical"
                                                ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                                                ScrollViewer.VerticalScrollBarVisibility="Auto" />
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>

                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel
                                                Height="Auto"
                                                Margin="0"
                                                HorizontalAlignment="Left">

                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Style="{StaticResource ControlTextBlockNormalInfo}" Text="Concepto: " />
                                                    <TextBlock Style="{StaticResource ControlTextBlockNormalInfo}" Text="{Binding Path=strDescripcionConceptoTitulo}" />
                                                </StackPanel>

                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Style="{StaticResource ControlTextBlockNormalInfo}" Text="Entrada: " />
                                                    <TextBlock Style="{StaticResource ControlTextBlockNormalInfo}" Text="{Binding Path=strDescripcionEstadoEntrada}" />
                                                </StackPanel>

                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Style="{StaticResource ControlTextBlockNormalInfo}" Text="Salida: " />
                                                    <TextBlock Style="{StaticResource ControlTextBlockNormalInfo}" Text="{Binding Path=strDescripcionEstadoSalida}" />
                                                </StackPanel>

                                                <Line
                                                    Height="1"
                                                    Margin="0"
                                                    Stretch="Fill"
                                                    Stroke="Silver"
                                                    X1="0"
                                                    X2="100"
                                                    Y1="20"
                                                    Y2="20" />

                                            </StackPanel>
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                            </Telerik:DataFormDataField>
                            <Telerik:DataFormDataField
                                Grid.Column="1"
                                Label="Estado entrada"
                                LabelPosition="Above">
                                <TextBox
                                    Name="txtConceptoEntrada"
                                    VerticalAlignment="Top"
                                    IsEnabled="False"
                                    Text="{Binding DataContext.SelectedEstadoConcepto.strDescripcionEstadoEntrada, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                    TextAlignment="Left"
                                    ToolTipService.ToolTip="Estado entrada" />
                            </Telerik:DataFormDataField>

                            <Telerik:DataFormDataField
                                Grid.Column="2"
                                Label="Estado salida"
                                LabelPosition="Above">
                                <TextBox
                                    Name="txtConceptoSalida"
                                    Width="420"
                                    Margin="-20,0,-32,0"
                                    VerticalAlignment="Top"
                                    IsEnabled="False"
                                    Text="{Binding DataContext.SelectedEstadoConcepto.strDescripcionEstadoSalida, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}"
                                    TextAlignment="Left"
                                    ToolTipService.ToolTip="Estado entrada" />
                            </Telerik:DataFormDataField>
                        </Grid>
                    </Telerik:DataFormDataField>


                    <Telerik:DataFormDataField
                        Grid.Row="6"
                        Grid.Column="0"
                        Grid.ColumnSpan="2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Telerik:DataFormDataField Grid.Column="0" Label="Convertir a moneda">
                                <CheckBox IsChecked="{Binding DataContext.logConvertirMoneda, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}" IsEnabled="{Binding HabilitarSeleccionarTodos}" />

                            </Telerik:DataFormDataField>

                            <Telerik:DataFormDataField
                                Grid.Column="1"
                                IsEnabled="{Binding DataContext.logConvertirMoneda, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                Label="Moneda">
                                <StackPanel Orientation="Horizontal">
                                    <ComboBox
                                        x:Name="cmbMoneda"
                                        Width="300"
                                        DisplayMemberPath="Descripcion"
                                        ItemsSource="{Binding DiccionarioCombosA2[CFmonedas], Source={StaticResource A2VM}}"
                                        SelectedValue="{Binding DataContext.strMoneda, RelativeSource={RelativeSource AncestorType=UserControl}, StringFormat='#', Mode=TwoWay}"
                                        SelectedValuePath="ID"
                                        SelectionChanged="cmbMoneda_SelectionChanged"
                                        ToolTipService.ToolTip="Tipo Valor" />
                                </StackPanel>
                            </Telerik:DataFormDataField>

                            <Telerik:DataFormDataField Grid.Column="2" Label="Tasa Conversión ">
                                <A2UTILGEN:A2NumericBox
                                    Width="420"
                                    Margin="-20,0,-32,0"
                                    IsEnabled="{Binding DataContext.logConvertirMoneda, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    Maximum="999999999999999"
                                    Minimum="0"
                                    NumberDecimalDigits="2"
                                    ShowButtons="False"
                                    ValueFormat="Numeric"
                                    Value="{Binding DataContext.dblTasaConversion, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay}" />
                            </Telerik:DataFormDataField>
                        </Grid>
                    </Telerik:DataFormDataField>



                    <Button
                        Name="ConsultarPortafolio"
                        Grid.Row="7"
                        Grid.Column="1"
                        Width="150"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Click="BuscarCustodias_Click"
                        Content="Consultar Portafolio"
                        IsEnabled="{Binding HabilitarConsultar}" />

                    <Grid
                        Grid.Row="8"
                        Grid.Column="0"
                        Grid.ColumnSpan="2">
                        <StackPanel Orientation="Vertical">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Telerik:DataFormDataField Label="Seleccionar todos">
                                    <CheckBox IsChecked="{Binding SeleccionarTodos, Mode=TwoWay}" IsEnabled="{Binding HabilitarSeleccionarTodos}" />
                                </Telerik:DataFormDataField>

                                <Border Grid.Column="1" Style="{StaticResource Contenedor_Paginador}">
                                    <A2UTILGEN:A2DataPager
                                        x:Name="dpDetalle"
                                        PageSize="10"
                                        Source="{Binding Items, ElementName=dgDetalle}" />
                                </Border>
                            </Grid>

                            <A2UTILGEN:A2GridView
                                x:Name="dgDetalle"
                                Width="auto"
                                Margin="5,0,2,2"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                IsReadOnly="True"
                                ItemsSource="{Binding ListaDetalleCustodiaPaged}"
                                ScrollViewer.VerticalScrollBarVisibility="Auto"
                                SelectedItem="{Binding SelectedDetalleCustodia, Mode=TwoWay}"
                                ValidatesOnDataErrors="None">
                                <A2UTILGEN:A2GridView.Columns>

                                    <Telerik:GridViewDataColumn Header="Elegir" SortMemberPath="Elegir">
                                        <Telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <CheckBox
                                                    HorizontalAlignment="Center"
                                                    Click="CheckBox_Click"
                                                    IsChecked="{Binding logGenerar, Mode=TwoWay}" />
                                            </DataTemplate>
                                        </Telerik:GridViewDataColumn.CellTemplate>
                                    </Telerik:GridViewDataColumn>
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding IdRecibo}"
                                        Header="Custodia"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding Secuencia}"
                                        Header="Secuencia"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn Header="Cantidad">
                                        <Telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <A2UTILGEN:A2NumericBox
                                                    HorizontalContentAlignment="Right"
                                                    IsEnabled="True"
                                                    IsReadOnly="True"
                                                    NumberDecimalDigits="{Binding NroDecimal}"
                                                    ShowButtons="False"
                                                    ToolTipService.ToolTip="Cantidad"
                                                    ValueFormat="Numeric"
                                                    Value="{Binding Cantidad, Mode=TwoWay}" />
                                            </DataTemplate>
                                        </Telerik:GridViewDataColumn.CellTemplate>
                                    </Telerik:GridViewDataColumn>
                                    <Telerik:GridViewDataColumn Header="Cantidad a Trasladar">
                                        <Telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <A2UTILGEN:A2NumericBox
                                                    HorizontalContentAlignment="Right"
                                                    KeyDown="CantTrasladar_KeyDown"
                                                    Maximum="999999999999999999"
                                                    Minimum="0.0000000000000001"
                                                    NumberDecimalDigits="{Binding NroDecimal}"
                                                    ShowButtons="False"
                                                    ToolTipService.ToolTip="Cantidad a Trasladar"
                                                    ValueFormat="Numeric"
                                                    Value="{Binding dblCantidadTrasladar, Mode=TwoWay}" />
                                            </DataTemplate>
                                        </Telerik:GridViewDataColumn.CellTemplate>
                                    </Telerik:GridViewDataColumn>
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding dblCantidaRecalculo, StringFormat='\{0:n\}'}"
                                        Header="Cantidad Recalculo"
                                        IsReadOnly="True"
                                        IsVisible="{Binding DataContext.VerRecalculo, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource BooleanVisibilityConverter}}" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding strEstado}"
                                        Header="Estado"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding Comitente}"
                                        Header="Comitente"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding IdEspecie}"
                                        Header="Especie"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding ISIN}"
                                        Header="ISIN"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding IndicadorEconomico}"
                                        Header="Indicador Económico"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding PuntosIndicador}"
                                        Header="Puntos Indicador"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding Modalidad}"
                                        Header="Modalidad"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding TasaDescuento}"
                                        Header="Tasa Descuento"
                                        IsReadOnly="True" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding NroTitulo}"
                                        Header="Nrotitulo"
                                        IsReadOnly="True"
                                        IsVisible="False" />
                                    <Telerik:GridViewDataColumn
                                        DataMemberBinding="{Binding Precio, StringFormat='\{0:n4\}'}"
                                        Header="Precio"
                                        IsReadOnly="True" />

                                </A2UTILGEN:A2GridView.Columns>
                            </A2UTILGEN:A2GridView>

                        </StackPanel>


                    </Grid>
                </Grid>
            </Border>


        </Grid>
    </Telerik:RadBusyIndicator>
</UserControl>
